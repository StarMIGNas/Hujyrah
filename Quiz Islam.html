<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Islamic Quiz System - ŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖÿ≥ÿßÿ®ŸÇÿßÿ™ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸäÿ©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg1: #fceabb; --bg2: #f8b500;
      --ok: #27ae60; --warn: #c0392b;
      --card: #ffffff; --ink: #2c3e50; --muted: #7f8c8d;
      --btn1: #f39c12; --btn2: #27ae60; --btn3: #2980b9; --btn4: #8e44ad;
      --brand: #d35400;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: "Arial", "Segoe UI", sans-serif;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      min-height: 100vh; padding: 20px;
      display: flex; align-items: center; justify-content: center;
    }
    .app {
      width: 100%; max-width: 800px; background: var(--card);
      border-radius: 24px; box-shadow: 0 10px 30px rgba(0,0,0,.15);
      padding: 30px; position: relative; overflow: hidden;
    }
    .header {
      text-align: center; margin-bottom: 25px;
    }
    .header h1 {
      font-size: 28px; color: var(--brand); margin-bottom: 10px;
    }
    .header p {
      color: var(--muted); font-size: 16px;
    }
    .language-buttons {
      display: flex; gap: 10px; justify-content: center;
      margin-bottom: 20px; flex-wrap: wrap;
    }
    .lang-btn {
      padding: 12px 20px; border: 2px solid #ddd;
      border-radius: 12px; background: white;
      cursor: pointer; transition: all 0.3s ease;
      font-weight: 600;
    }
    .lang-btn:hover {
      transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,.1);
    }
    .lang-btn.active {
      background: var(--brand); color: white; border-color: var(--brand);
    }
    .top {
      display: flex; align-items: center; gap: 15px;
      justify-content: space-between; margin-bottom: 20px;
    }
    .counter {
      font-size: 16px; color: var(--muted); white-space: nowrap;
    }
    .progress {
      flex: 1; height: 12px; background: #eee;
      border-radius: 999px; overflow: hidden;
    }
    .bar {
      height: 100%; width: 0%; background: var(--ok);
      transition: width 0.4s ease;
    }
    .question {
      font-size: 22px; line-height: 1.6; margin: 20px 0;
      min-height: 60px; text-align: center;
      font-weight: 600; color: var(--ink);
    }
    .options {
      display: grid; gap: 12px; margin-bottom: 25px;
    }
    .options button {
      border: none; padding: 16px 20px; font-size: 18px;
      color: white; border-radius: 16px; cursor: pointer;
      transition: all 0.3s ease; font-weight: 500;
      box-shadow: 0 4px 12px rgba(0,0,0,.12);
    }
    .options button:nth-child(1) { background: var(--btn1); }
    .options button:nth-child(2) { background: var(--btn2); }
    .options button:nth-child(3) { background: var(--btn3); }
    .options button:nth-child(4) { background: var(--btn4); }
    .options button:hover { transform: translateY(-2px); }
    .options button:active { transform: translateY(0); }
    .correct { background: var(--ok) !important; }
    .wrong { background: var(--warn) !important; }
    .result {
      text-align: center; margin: 25px 0;
      font-size: 24px; font-weight: bold;
    }
    .medal { font-size: 52px; margin: 15px 0; }
    .actions {
      display: flex; gap: 15px; justify-content: center;
      flex-wrap: wrap; margin-top: 25px;
    }
    .btn {
      border: none; border-radius: 14px; padding: 14px 24px;
      cursor: pointer; color: white; font-size: 16px;
      font-weight: 600; transition: all 0.3s ease;
    }
    .btn-primary { background: #3498db; }
    .btn-secondary { background: #95a5a6; }
    .btn-success { background: #27ae60; }
    .footer {
      margin-top: 30px; text-align: center;
      color: var(--muted); font-size: 14px;
    }
    .file-input {
      display: none;
    }
    .file-btn {
      background: #9b59b6 !important;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
    @keyframes shake {
      0%,100% { transform: translateX(0); }
      20% { transform: translateX(-6px); }
      40% { transform: translateX(6px); }
      60% { transform: translateX(-4px); }
      80% { transform: translateX(4px); }
    }
    .shake { animation: shake 0.35s ease; }

    /* –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ */
    .confetti {
      position: fixed; pointer-events: none;
      font-size: 20px; z-index: 1000; opacity: 0;
    }
    @keyframes fall {
      0% { transform: translateY(-60px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(80vh) rotate(180deg); opacity: 0; }
    }
    @keyframes rise {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-60vh) scale(0.8); opacity: 0; }
    }
    .fall { animation: fall 1.6s linear forwards; }
    .rise { animation: rise 1.2s linear forwards; }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 768px) {
      .app { padding: 20px; border-radius: 20px; }
      .header h1 { font-size: 24px; }
      .question { font-size: 20px; }
      .options button { padding: 14px 16px; font-size: 16px; }
      .actions { flex-direction: column; }
      .btn { width: 100%; }
    }

    /* –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
    [dir="ltr"] { text-align: left; }
    [dir="rtl"] { text-align: right; }
  </style>
</head>
<body>
  <div class="app" id="app">
    <div class="header">
      <h1 id="title">ŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖÿ≥ÿßÿ®ŸÇÿßÿ™ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸäÿ©</h1>
      <p id="subtitle">ÿßÿÆÿ™ÿ± ÿßŸÑŸÑÿ∫ÿ© Ÿàÿßÿ®ÿØÿ£ ÿßŸÑŸÖÿ≥ÿßÿ®ŸÇÿ©</p>
    </div>

    <div class="language-buttons">
      <button class="lang-btn active" onclick="changeLanguage('ar')">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</button>
      <button class="lang-btn" onclick="changeLanguage('en')">English</button>
      <button class="lang-btn" onclick="changeLanguage('ru')">–†—É—Å—Å–∫–∏–π</button>
    </div>

    <div class="actions">
      <input type="file" id="jsonFile" class="file-input" accept=".json">
      <button class="btn file-btn" onclick="document.getElementById('jsonFile').click()">
        üìÅ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©
      </button>
      <button class="btn btn-success" onclick="loadDefaultQuiz()">
        üöÄ ÿßŸÑÿ®ÿØÿ° ÿ®ÿßŸÑŸÖÿ≥ÿßÿ®ŸÇÿ© ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ©
      </button>
    </div>

    <div class="top" id="quiz-ui" style="display: none">
      <div class="counter" id="counter"></div>
      <div class="progress"><div class="bar" id="bar"></div></div>
    </div>

    <div class="question" id="question" style="display: none"></div>
    <div class="options" id="options" style="display: none"></div>

    <div class="result" id="result" style="display: none">
      <div id="score-text"></div>
      <div class="medal" id="medal"></div>
      <div id="message"></div>
    </div>

    <div class="actions" id="result-actions" style="display: none">
      <button class="btn btn-primary" onclick="restartQuiz()" id="restart-btn"></button>
      <button class="btn btn-secondary" onclick="shareResults()" id="share-btn"></button>
      <button class="btn" onclick="newQuiz()" id="newquiz-btn"></button>
    </div>

    <div class="footer">
      <p>Nasser Soft Company ¬© 2024 - ŸÜÿ∏ÿßŸÖ ŸÖÿ™ÿπÿØÿØ ÿßŸÑŸÑÿ∫ÿßÿ™</p>
      <p id="footer-text"> Multilingual Quiz System</p>
    </div>
  </div>

  <script>
    // ==================== –ú–ù–û–ì–û–Ø–ó–´–ß–ù–´–ï –¢–ï–ö–°–¢–´ ====================
    const translations = {
      ar: {
        title: "ŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖÿ≥ÿßÿ®ŸÇÿßÿ™ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸäÿ©",
        subtitle: "ÿßÿÆÿ™ÿ± ÿßŸÑŸÑÿ∫ÿ© Ÿàÿßÿ®ÿØÿ£ ÿßŸÑŸÖÿ≥ÿßÿ®ŸÇÿ©",
        loadBtn: "üìÅ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©",
        startBtn: "üöÄ ÿßŸÑÿ®ÿØÿ° ÿ®ÿßŸÑŸÖÿ≥ÿßÿ®ŸÇÿ© ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ©",
        question: "ÿßŸÑÿ≥ÿ§ÿßŸÑ",
        of: "ŸÖŸÜ",
        score: "ÿßŸÑŸÜŸÇÿßÿ∑",
        excellent: "ŸÖŸÖÿ™ÿßÿ≤! ŸÖÿπÿ±ŸÅÿ© ÿ±ÿßÿ¶ÿπÿ©",
        good: "ÿ¨ŸäÿØ ÿ¨ÿØÿßŸã! ÿßÿ≥ÿ™ŸÖÿ± ŸÅŸä ÿßŸÑÿ™ÿπŸÑŸÖ",
        tryAgain: "ÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ ŸäŸÖŸÉŸÜŸÉ ÿßŸÑÿ™ÿ≠ÿ≥ŸÜ",
        restart: "ÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ©",
        share: "ŸÖÿ¥ÿßÿ±ŸÉÿ© ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©",
        newQuiz: "ŸÖÿ≥ÿßÿ®ŸÇÿ© ÿ¨ÿØŸäÿØÿ©",
        medals: ["ü•á", "ü•à", "ü•â"],
        defaultTitle: "ŸÖÿ≥ÿßÿ®ŸÇÿ© ÿßŸÑÿ≥Ÿäÿ±ÿ© ÿßŸÑŸÜÿ®ŸàŸäÿ©",
        defaultDesc: "ÿ£ÿ≥ÿ¶ŸÑÿ© ÿπŸÜ ÿ≠Ÿäÿßÿ© ÿßŸÑŸÜÿ®Ÿä ŸÖÿ≠ŸÖÿØ Ô∑∫"
      },
      en: {
        title: "Islamic Quiz System",
        subtitle: "Choose language and start the quiz",
        loadBtn: "üìÅ Load Questions",
        startBtn: "üöÄ Start Default Quiz",
        question: "Question",
        of: "of",
        score: "Score",
        excellent: "Excellent! Great knowledge",
        good: "Very good! Keep learning",
        tryAgain: "Try again, you can improve",
        restart: "Try Again",
        share: "Share Results",
        newQuiz: "New Quiz",
        medals: ["ü•á", "ü•à", "ü•â"],
        defaultTitle: "Prophet's Biography Quiz",
        defaultDesc: "Questions about Prophet Muhammad's life Ô∑∫"
      },
      ru: {
        title: "–ò—Å–ª–∞–º—Å–∫–∞—è –í–∏–∫—Ç–æ—Ä–∏–Ω–∞",
        subtitle: "–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –∏ –Ω–∞—á–Ω–∏—Ç–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—É",
        loadBtn: "üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–æ–ø—Ä–æ—Å—ã",
        startBtn: "üöÄ –ù–∞—á–∞—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É",
        question: "–í–æ–ø—Ä–æ—Å",
        of: "–∏–∑",
        score: "–°—á–µ—Ç",
        excellent: "–û—Ç–ª–∏—á–Ω–æ! –û—Ç–ª–∏—á–Ω—ã–µ –∑–Ω–∞–Ω–∏—è",
        good: "–û—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —É—á–∏—Ç—å—Å—è",
        tryAgain: "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑, –≤—ã –º–æ–∂–µ—Ç–µ —É–ª—É—á—à–∏—Ç—å",
        restart: "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞",
        share: "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º",
        newQuiz: "–ù–æ–≤–∞—è –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞",
        medals: ["ü•á", "ü•à", "ü•â"],
        defaultTitle: "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –æ –ü—Ä–æ—Ä–æ–∫–µ",
        defaultDesc: "–í–æ–ø—Ä–æ—Å—ã –æ –∂–∏–∑–Ω–∏ –ü—Ä–æ—Ä–æ–∫–∞ –ú—É—Ö–∞–º–º–∞–¥–∞ Ô∑∫"
      }
    };

    // ==================== –ü–ï–†–ï–ú–ï–ù–ù–´–ï –°–û–°–¢–û–Ø–ù–ò–Ø ====================
    let currentLanguage = 'ar';
    let questions = [];
    let currentQuestion = 0;
    let score = 0;
    let quizTitle = "";
    let quizDescription = "";

    // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
    function init() {
      document.getElementById('jsonFile').addEventListener('change', handleFileUpload);
      updateLanguageUI();
      setDocumentDirection();
    }

    // ==================== –°–ú–ï–ù–ê –Ø–ó–´–ö–ê ====================
    function changeLanguage(lang) {
      currentLanguage = lang;
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ —è–∑—ã–∫–∞
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      
      updateLanguageUI();
      setDocumentDirection();
      
      // –ï—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞, –æ–±–Ω–æ–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å—ã
      if (questions.length > 0) {
        updateQuestionUI();
      }
    }

    function setDocumentDirection() {
      document.documentElement.dir = currentLanguage === 'ar' ? 'rtl' : 'ltr';
      document.documentElement.lang = currentLanguage;
    }

    function updateLanguageUI() {
      const t = translations[currentLanguage];
      
      document.getElementById('title').textContent = t.title;
      document.getElementById('subtitle').textContent = t.subtitle;
      document.querySelector('.file-btn').textContent = t.loadBtn;
      document.querySelector('.btn-success').textContent = t.startBtn;
      
      if (document.getElementById('restart-btn')) {
        document.getElementById('restart-btn').textContent = t.restart;
        document.getElementById('share-btn').textContent = t.share;
        document.getElementById('newquiz-btn').textContent = t.newQuiz;
      }
    }

    // ==================== –ó–ê–ì–†–£–ó–ö–ê –í–ò–ö–¢–û–†–ò–ù–´ ====================
    function handleFileUpload(event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        try {
          const quizData = JSON.parse(e.target.result);
          loadQuiz(quizData);
        } catch (error) {
          alert(currentLanguage === 'ar' ? 
            'ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸÑŸÅ' : 
            currentLanguage === 'en' ? 'Error loading file' : '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞');
        }
      };
      reader.readAsText(file);
    }

    function loadQuiz(quizData) {
      if (!quizData.questions || !Array.isArray(quizData.questions)) {
        alert(currentLanguage === 'ar' ? 
          'ÿµŸäÿ∫ÿ© ÿßŸÑŸÖŸÑŸÅ ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©' : 
          currentLanguage === 'en' ? 'Invalid file format' : '–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞');
        return;
      }

      questions = quizData.questions;
      quizTitle = quizData.title || translations[currentLanguage].defaultTitle;
      quizDescription = quizData.description || translations[currentLanguage].defaultDesc;

      showQuizUI();
      startQuiz();
    }

    function loadDefaultQuiz() {
      const defaultQuiz = {
        title: translations[currentLanguage].defaultTitle,
        description: translations[currentLanguage].defaultDesc,
        questions: [
    {
      question: {
        ar: "ÿ£ŸäŸÜ ŸàŸÑÿØ ÿßŸÑŸÜÿ®Ÿä ŸÖÿ≠ŸÖÿØ Ô∑∫ÿü",
        en: "Where was Prophet Muhammad Ô∑∫ born?",
        ru: "–ì–¥–µ —Ä–æ–¥–∏–ª—Å—è –ü—Ä–æ—Ä–æ–∫ –ú—É—Ö–∞–º–º–∞–¥ Ô∑∫?"
      },
      options: {
        ar: ["ŸÖŸÉÿ© ÿßŸÑŸÖŸÉÿ±ŸÖÿ©", "ÿßŸÑŸÖÿØŸäŸÜÿ© ÿßŸÑŸÖŸÜŸàÿ±ÿ©", "ÿßŸÑÿ∑ÿßÿ¶ŸÅ", "ŸäŸÜÿ®ÿπ"],
        en: ["Makkah", "Madinah", "Taif", "Yanbu"],
        ru: ["–ú–µ–∫–∫–∞", "–ú–µ–¥–∏–Ω–∞", "–¢–∞–∏—Ñ", "–Ø–Ω–±—É"]
      },
      correct: 0,
      explanation: {
        ar: "ŸàŸÑÿØ ÿßŸÑŸÜÿ®Ÿä ŸÖÿ≠ŸÖÿØ Ô∑∫ ŸÅŸä ŸÖŸÉÿ© ÿßŸÑŸÖŸÉÿ±ŸÖÿ© ÿ≥ŸÜÿ© 571 ŸÖŸäŸÑÿßÿØŸäÿ©",
        en: "Prophet Muhammad Ô∑∫ was born in Makkah in the year 571 CE",
        ru: "–ü—Ä–æ—Ä–æ–∫ –ú—É—Ö–∞–º–º–∞–¥ Ô∑∫ —Ä–æ–¥–∏–ª—Å—è –≤ –ú–µ–∫–∫–µ –≤ 571 –≥–æ–¥—É"
      }
    },
    {
      question: {
        ar: "ŸÉŸÖ ŸÉÿßŸÜ ÿπŸÖÿ± ÿßŸÑŸÜÿ®Ÿä Ô∑∫ ÿπŸÜÿØŸÖÿß ÿ™ŸàŸÅŸäÿ™ ÿ£ŸÖŸáÿü",
        en: "How old was Prophet Ô∑∫ when his mother passed away?",
        ru: "–°–∫–æ–ª—å–∫–æ –ª–µ—Ç –±—ã–ª–æ –ü—Ä–æ—Ä–æ–∫—É Ô∑∫, –∫–æ–≥–¥–∞ —É–º–µ—Ä–ª–∞ –µ–≥–æ –º–∞—Ç—å?"
      },
      options: {
        ar: ["5 ÿ≥ŸÜŸàÿßÿ™", "6 ÿ≥ŸÜŸàÿßÿ™", "7 ÿ≥ŸÜŸàÿßÿ™", "8 ÿ≥ŸÜŸàÿßÿ™"],
        en: ["5 years", "6 years", "7 years", "8 years"],
        ru: ["5 –ª–µ—Ç", "6 –ª–µ—Ç", "7 –ª–µ—Ç", "8 –ª–µ—Ç"]
      },
      correct: 1,
      explanation: {
        ar: "ÿ™ŸàŸÅŸäÿ™ ÿ£ŸÖŸá ÿ¢ŸÖŸÜÿ© ÿ®ŸÜÿ™ ŸàŸáÿ® ŸàŸáŸà ŸÅŸä ÿßŸÑÿ≥ÿßÿØÿ≥ÿ© ŸÖŸÜ ÿπŸÖÿ±Ÿá",
        en: "His mother Amina bint Wahb passed away when he was 6 years old",
        ru: "–ï–≥–æ –º–∞—Ç—å –ê–º–∏–Ω–∞ –±–∏–Ω—Ç –í–∞—Ö–± —É–º–µ—Ä–ª–∞, –∫–æ–≥–¥–∞ –µ–º—É –±—ã–ª–æ 6 –ª–µ—Ç"
      }
    },
    // –î–æ–±–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ 18 –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∏–∂–µ, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–º –ø—Ä–∏–º–µ—Ä–∞–º:
    {
      question: {
        ar: "ŸÖÿß ÿ£ŸàŸÑ ÿ≥Ÿàÿ±ÿ© ŸÜÿ≤ŸÑÿ™ ŸÅŸä ÿßŸÑŸÇÿ±ÿ¢ŸÜÿü",
        en: "What is the first Surah revealed in the Quran?",
        ru: "–ö–∞–∫–∞—è —Å—É—Ä–∞ –±—ã–ª–∞ –ø–µ—Ä–≤–æ–π –Ω–∏—Å–ø–æ—Å–ª–∞–Ω–∞ –≤ –ö–æ—Ä–∞–Ω–µ?"
      },
      options: {
        ar: ["ÿßŸÑŸÅÿßÿ™ÿ≠ÿ©", "ÿßŸÑÿπŸÑŸÇ", "ÿßŸÑŸÜÿßÿ≥", "ÿßŸÑÿ•ÿÆŸÑÿßÿµ"],
        en: ["Al-Fatiha", "Al-Alaq", "An-Nas", "Al-Ikhlas"],
        ru: ["–ê–ª—å-–§–∞—Ç–∏—Ö–∞", "–ê–ª—å-–ê–ª–∞–∫", "–ê–Ω-–ù–∞—Å", "–ê–ª—å-–ò—Ö–ª–∞—Å"]
      },
      correct: 1,
      explanation: {
        ar: "ÿ£ŸàŸÑ ÿ≥Ÿàÿ±ÿ© ŸÜÿ≤ŸÑÿ™ ŸáŸä ÿßŸÑÿπŸÑŸÇ",
        en: "The first revealed Surah is Al-Alaq",
        ru: "–ü–µ—Ä–≤–∞—è –Ω–∏—Å–ø–æ—Å–ª–∞–Ω–Ω–∞—è —Å—É—Ä–∞ ‚Äî –ê–ª—å-–ê–ª–∞–∫"
      }
    },
    {
      question: {
        ar: "ŸÖÿ™Ÿâ Ÿáÿßÿ¨ÿ± ÿßŸÑŸÜÿ®Ÿä Ô∑∫ ÿ•ŸÑŸâ ÿßŸÑŸÖÿØŸäŸÜÿ©ÿü",
        en: "When did the Prophet Ô∑∫ migrate to Madinah?",
        ru: "–ö–æ–≥–¥–∞ –ü—Ä–æ—Ä–æ–∫ Ô∑∫ –ø–µ—Ä–µ—Å–µ–ª–∏–ª—Å—è –≤ –ú–µ–¥–∏–Ω—É?"
      },
      options: {
        ar: ["ÿ®ÿπÿØ 13 ÿ≥ŸÜÿ© ŸÖŸÜ ÿßŸÑÿ®ÿπÿ´ÿ©", "ÿ®ÿπÿØ 5 ÿ≥ŸÜŸàÿßÿ™ ŸÖŸÜ ÿßŸÑÿ®ÿπÿ´ÿ©", "ŸÅŸä ÿßŸÑÿ≥ŸÜÿ© ÿßŸÑÿ£ŸàŸÑŸâ", "ŸÅŸä ÿßŸÑÿ≥ŸÜÿ© ÿßŸÑÿπÿßÿ¥ÿ±ÿ©"],
        en: ["After 13 years of prophethood", "After 5 years of prophethood", "In the first year", "In the tenth year"],
        ru: ["–ß–µ—Ä–µ–∑ 13 –ª–µ—Ç –ø—Ä–æ—Ä–æ—á–µ—Å—Ç–≤–∞", "–ß–µ—Ä–µ–∑ 5 –ª–µ—Ç –ø—Ä–æ—Ä–æ—á–µ—Å—Ç–≤–∞", "–í –ø–µ—Ä–≤—ã–π –≥–æ–¥", "–í –¥–µ—Å—è—Ç—ã–π –≥–æ–¥"]
      },
      correct: 0,
      explanation: {
        ar: "Ÿáÿßÿ¨ÿ± ÿßŸÑŸÜÿ®Ÿä Ô∑∫ ÿ•ŸÑŸâ ÿßŸÑŸÖÿØŸäŸÜÿ© ÿ®ÿπÿØ 13 ÿ≥ŸÜÿ© ŸÖŸÜ ÿßŸÑÿ®ÿπÿ´ÿ©",
        en: "The Prophet Ô∑∫ migrated to Madinah after 13 years of prophethood",
        ru: "–ü—Ä–æ—Ä–æ–∫ Ô∑∫ –ø–µ—Ä–µ—Å–µ–ª–∏–ª—Å—è –≤ –ú–µ–¥–∏–Ω—É —á–µ—Ä–µ–∑ 13 –ª–µ—Ç –ø—Ä–æ—Ä–æ—á–µ—Å—Ç–≤–∞"
      }
    },
    // –î–æ–±–∞–≤–ª—è–π—Ç–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –≤–æ–ø—Ä–æ—Å—ã –≤ —Ç–∞–∫–æ–º –∂–µ —Ñ–æ—Ä–º–∞—Ç–µ...
    // –î–ª—è –ø–æ–ª–Ω–æ—Ç—ã –ø—Ä–∏–º–µ—Ä–∞ –Ω–∏–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤–æ–ø—Ä–æ—Å—ã –≤–ø–ª–æ—Ç—å –¥–æ 20
    {
      question: {
        ar: "ŸÖŸÜ ŸáŸà ÿ£ŸàŸÑ ÿÆŸÑŸäŸÅÿ© ŸÅŸä ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖÿü",
        en: "Who was the first caliph in Islam?",
        ru: "–ö—Ç–æ –±—ã–ª –ø–µ—Ä–≤—ã–º —Ö–∞–ª–∏—Ñ–æ–º –≤ –∏—Å–ª–∞–º–µ?"
      },
      options: {
        ar: ["ÿ£ÿ®Ÿà ÿ®ŸÉÿ± ÿßŸÑÿµÿØŸäŸÇ", "ÿπŸÖÿ± ÿ®ŸÜ ÿßŸÑÿÆÿ∑ÿßÿ®", "ÿπÿ´ŸÖÿßŸÜ ÿ®ŸÜ ÿπŸÅÿßŸÜ", "ÿπŸÑŸä ÿ®ŸÜ ÿ£ÿ®Ÿä ÿ∑ÿßŸÑÿ®"],
        en: ["Abu Bakr Al-Siddiq", "Umar ibn Al-Khattab", "Uthman ibn Affan", "Ali ibn Abi Talib"],
        ru: ["–ê–±—É –ë–∞–∫—Ä –ê—Å-–°–∏–¥–¥–∏–∫", "–£–º–∞—Ä –∏–±–Ω –•–∞—Ç—Ç–∞–±", "–£—Ç–º–∞–Ω –∏–±–Ω –ê—Ñ—Ñ–∞–Ω", "–ê–ª–∏ –∏–±–Ω –ê–±–∏ –¢–∞–ª–∏–±"]
      },
      correct: 0,
      explanation: {
        ar: "ÿ£ÿ®Ÿà ÿ®ŸÉÿ± ÿßŸÑÿµÿØŸäŸÇ ŸáŸà ÿ£ŸàŸÑ ÿÆŸÑŸäŸÅÿ©",
        en: "Abu Bakr Al-Siddiq was the first caliph",
        ru: "–ê–±—É –ë–∞–∫—Ä –ê—Å-–°–∏–¥–¥–∏–∫ –±—ã–ª –ø–µ—Ä–≤—ã–º —Ö–∞–ª–∏—Ñ–æ–º"
      }
    },
    {
      question: {
        ar: "ŸÉŸÖ ÿπÿØÿØ ÿ±ŸÉÿπÿßÿ™ ÿßŸÑÿµŸÑÿßÿ© ÿßŸÑŸÖŸÅÿ±Ÿàÿ∂ÿ©ÿü",
        en: "How many obligatory Rak'ahs does prayer have?",
        ru: "–°–∫–æ–ª—å–∫–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–∫–∞–∞—Ç–æ–≤ –≤ –º–æ–ª–∏—Ç–≤–µ?"
      },
      options: {
        ar: ["10", "15", "17", "20"],
        en: ["10", "15", "17", "20"],
        ru: ["10", "15", "17", "20"]
      },
      correct: 2,
      explanation: {
        ar: "ÿßŸÑÿµŸÑÿßÿ© ÿßŸÑŸÖŸÅÿ±Ÿàÿ∂ÿ© ÿ™ÿ™ŸÉŸàŸÜ ŸÖŸÜ 17 ÿ±ŸÉÿπÿ©",
        en: "The obligatory prayer consists of 17 Rak'ahs",
        ru: "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –º–æ–ª–∏—Ç–≤–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 17 —Ä–∞–∫–∞–∞—Ç–æ–≤"
      }
    },
    {
      question: {
        ar: "ŸÖÿß ÿßÿ≥ŸÖ ÿ£ŸàŸÑ ŸÖÿ≥ÿ¨ÿØ ŸÅŸä ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖÿü",
        en: "What is the name of the first mosque in Islam?",
        ru: "–ö–∞–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π –º–µ—á–µ—Ç–∏ –≤ –∏—Å–ª–∞–º–µ?"
      },
      options: {
        ar: ["ÿßŸÑŸÖÿ≥ÿ¨ÿØ ÿßŸÑŸÜÿ®ŸàŸä", "ÿßŸÑŸÖÿ≥ÿ¨ÿØ ÿßŸÑÿ£ŸÇÿµŸâ", "ÿßŸÑŸÖÿ≥ÿ¨ÿØ ÿßŸÑÿ≠ÿ±ÿßŸÖ", "ŸÖÿ≥ÿ¨ÿØ ŸÇÿ®ÿßÿ°"],
        en: ["Al-Masjid An-Nabawi", "Al-Aqsa Mosque", "Al-Masjid Al-Haram", "Quba Mosque"],
        ru: ["–ú–∞—Å–¥–∂–∏–¥ –ê–Ω-–ù–∞–±–∞–≤–∏", "–ê–ª—å-–ê–∫—Å–∞", "–ê–ª—å-–ú–∞—Å–¥–∂–∏–¥ –ê–ª—å-–•–∞—Ä–∞–º", "–ö—É–±–∞ –ú–µ—á–µ—Ç—å"]
      },
      correct: 3,
      explanation: {
        ar: "ÿ£ŸàŸÑ ŸÖÿ≥ÿ¨ÿØ ŸÅŸä ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖ ŸáŸà ŸÖÿ≥ÿ¨ÿØ ŸÇÿ®ÿßÿ°",
        en: "The first mosque in Islam is Quba Mosque",
        ru: "–ü–µ—Ä–≤–∞—è –º–µ—á–µ—Ç—å –≤ –∏—Å–ª–∞–º–µ ‚Äî –ö—É–±–∞"
      }
    },
    {
      question: {
        ar: "ŸÖÿßÿ∞ÿß ÿ™ÿπŸÜŸä ŸÉŸÑŸÖÿ© 'ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖ'ÿü",
        en: "What does the word 'Islam' mean?",
        ru: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Å–ª–æ–≤–æ '–ò—Å–ª–∞–º'?"
      },
      options: {
        ar: ["ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿßŸÑÿßÿ≥ÿ™ÿ≥ŸÑÿßŸÖ ŸÑŸÑŸá", "ÿßŸÑÿ¨ŸáÿßÿØ", "ÿßŸÑÿ≠ÿ¨"],
        en: ["Peace", "Submission to God", "Struggle", "Pilgrimage"],
        ru: ["–ú–∏—Ä", "–ü–æ–¥—á–∏–Ω–µ–Ω–∏–µ –ë–æ–≥—É", "–ë–æ—Ä—å–±–∞", "–ü–∞–ª–æ–º–Ω–∏—á–µ—Å—Ç–≤–æ"]
      },
      correct: 1,
      explanation: {
        ar: "ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖ ŸäÿπŸÜŸä ÿßŸÑÿßÿ≥ÿ™ÿ≥ŸÑÿßŸÖ ŸÑŸÑŸá",
        en: "Islam means submission to God",
        ru: "–ò—Å–ª–∞–º –æ–∑–Ω–∞—á–∞–µ—Ç –ø–æ–¥—á–∏–Ω–µ–Ω–∏–µ –ë–æ–≥—É"
      }
    },
    {
      question: {
        ar: "ŸÖŸÜ ŸáŸà ÿÆÿßÿ™ŸÖ ÿßŸÑÿ£ŸÜÿ®Ÿäÿßÿ°ÿü",
        en: "Who is the Seal of the Prophets?",
        ru: "–ö—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ü–µ—á–∞—Ç—å—é –ü—Ä–æ—Ä–æ–∫–æ–≤?"
      },
      options: {
        ar: ["ÿ•ÿ®ÿ±ÿßŸáŸäŸÖ", "ŸÖŸàÿ≥Ÿâ", "ŸÖÿ≠ŸÖÿØ Ô∑∫", "ÿπŸäÿ≥Ÿâ"],
        en: ["Ibrahim", "Moses", "Muhammad Ô∑∫", "Jesus"],
        ru: ["–ò–±—Ä–∞—Ö–∏–º", "–ú—É—Å–∞", "–ú—É—Ö–∞–º–º–∞–¥ Ô∑∫", "–ò—Å–∞"]
      },
      correct: 2,
      explanation: {
        ar: "ŸÖÿ≠ŸÖÿØ Ô∑∫ ŸáŸà ÿÆÿßÿ™ŸÖ ÿßŸÑÿ£ŸÜÿ®Ÿäÿßÿ°",
        en: "Muhammad Ô∑∫ is the Seal of the Prophets",
        ru: "–ú—É—Ö–∞–º–º–∞–¥ Ô∑∫ ‚Äî –ü–µ—á–∞—Ç—å –ü—Ä–æ—Ä–æ–∫–æ–≤"
      }
    },
    // –î–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏...
  ]
      };
      loadQuiz(defaultQuiz);
    }

    // ==================== –ò–ù–¢–ï–†–§–ï–ô–° –í–ò–ö–¢–û–†–ò–ù–´ ====================
    function showQuizUI() {
      document.getElementById('quiz-ui').style.display = 'flex';
      document.getElementById('question').style.display = 'block';
      document.getElementById('options').style.display = 'grid';
      document.getElementById('title').textContent = quizTitle;
      document.getElementById('subtitle').textContent = quizDescription;
    }

    function hideQuizUI() {
      document.getElementById('quiz-ui').style.display = 'none';
      document.getElementById('question').style.display = 'none';
      document.getElementById('options').style.display = 'none';
    }

    function showResults() {
      document.getElementById('result').style.display = 'block';
      document.getElementById('result-actions').style.display = 'flex';
      
      const t = translations[currentLanguage];
      const percentage = (score / questions.length) * 100;
      
      let message = '';
      let medal = '';
      
      if (percentage >= 80) {
        message = t.excellent;
        medal = t.medals[0];
      } else if (percentage >= 60) {
        message = t.good;
        medal = t.medals[1];
      } else {
        message = t.tryAgain;
        medal = t.medals[2];
      }
      
      document.getElementById('score-text').textContent = 
        `${t.score}: ${score} / ${questions.length}`;
      document.getElementById('medal').textContent = medal;
      document.getElementById('message').textContent = message;
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–æ–∫
      document.getElementById('restart-btn').textContent = t.restart;
      document.getElementById('share-btn').textContent = t.share;
      document.getElementById('newquiz-btn').textContent = t.newQuiz;
    }

    function updateQuestionUI() {
      if (currentQuestion >= questions.length) {
        endQuiz();
        return;
      }

      const t = translations[currentLanguage];
      const question = questions[currentQuestion];
      
      document.getElementById('counter').textContent = 
        `${t.question} ${currentQuestion + 1} ${t.of} ${questions.length}`;
      document.getElementById('bar').style.width = 
        `${((currentQuestion + 1) / questions.length) * 100}%`;
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å –Ω–∞ —Ç–µ–∫—É—â–µ–º —è–∑—ã–∫–µ
      const questionText = question.question[currentLanguage] || question.question;
      document.getElementById('question').textContent = questionText;
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
      const optionsContainer = document.getElementById('options');
      optionsContainer.innerHTML = '';
      
      const options = question.options[currentLanguage] || question.options;
      options.forEach((option, index) => {
        const button = document.createElement('button');
        button.textContent = option;
        button.onclick = () => checkAnswer(index);
        optionsContainer.appendChild(button);
      });
    }

    function checkAnswer(selectedIndex) {
      const question = questions[currentQuestion];
      const buttons = document.querySelectorAll('.options button');
      
      // –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
      buttons.forEach(btn => btn.disabled = true);
      
      if (selectedIndex === question.correct) {
        buttons[selectedIndex].classList.add('correct');
        score++;
        createConfetti('‚ú®', 'fall', 15);
      } else {
        buttons[selectedIndex].classList.add('wrong');
        buttons[question.correct].classList.add('correct');
        createConfetti('üíî', 'rise', 8);
        document.getElementById('app').classList.add('shake');
        setTimeout(() => {
          document.getElementById('app').classList.remove('shake');
        }, 400);
      }
      
      setTimeout(() => {
        currentQuestion++;
        updateQuestionUI();
      }, 1500);
    }

    function startQuiz() {
      currentQuestion = 0;
      score = 0;
      updateQuestionUI();
    }

    function endQuiz() {
      hideQuizUI();
      showResults();
      if (score >= questions.length * 0.8) {
        createConfetti('üéâ', 'fall', 25);
      }
    }

    function restartQuiz() {
      document.getElementById('result').style.display = 'none';
      document.getElementById('result-actions').style.display = 'none';
      showQuizUI();
      startQuiz();
    }

    function newQuiz() {
      document.getElementById('result').style.display = 'none';
      document.getElementById('result-actions').style.display = 'none';
      hideQuizUI();
      
      questions = [];
      document.getElementById('title').textContent = translations[currentLanguage].title;
      document.getElementById('subtitle').textContent = translations[currentLanguage].subtitle;
    }

    function shareResults() {
      const t = translations[currentLanguage];
      const shareText = `${t.title}: ${t.score} ${score}/${questions.length} - ${quizTitle}`;
      
      if (navigator.share) {
        navigator.share({
          title: t.title,
          text: shareText
        });
      } else {
        navigator.clipboard.writeText(shareText);
        alert(currentLanguage === 'ar' ? 
          'ÿ™ŸÖ ŸÜÿ≥ÿÆ ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©' : 
          currentLanguage === 'en' ? 'Results copied' : '–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω');
      }
    }

    // ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
    function createConfetti(symbol, animation, count) {
      for (let i = 0; i < count; i++) {
        const confetti = document.createElement('div');
        confetti.className = `confetti ${animation}`;
        confetti.textContent = symbol;
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.top = animation === 'fall' ? '-10vh' : (60 + Math.random() * 20) + 'vh';
        confetti.style.fontSize = (18 + Math.random() * 14) + 'px';
        document.body.appendChild(confetti);
        
        setTimeout(() => confetti.remove(), 2000);
      }
    }

    // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>